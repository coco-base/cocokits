
[//]: # (Do not edit directly)
[//]: # (Generated by the Cocokits TypeDoc custom theme)

import { Meta } from '@storybook/addon-docs';
import { MdxPage } from '@cocokits/storybook-addon-theme';

export const tocItems = [{"id":"selection_promisestatet","name":"PromiseState<T>"},{"id":"selection_usepromise","name":"usePromise()"}];

<Meta title='Utils/Use Promise'/>
<MdxPage breadcrumb='Utils' title='Use Promise' tocItems={tocItems} hideThemeSwitcher={true}>
<div>
</div><div id="selection_promisestatet">
## PromiseState\<T\>

Represents the state of an asynchronous operation.

This interface encapsulates the three possible states of a promise:
loading, error, or success with result.

### Type Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T`

</td>
<td>

The type of the result data when the promise resolves successfully

</td>
</tr>
</tbody>
</table>
</div>

### Properties

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`error`

</td>
<td>

`any`

</td>
<td>

Contains the error if the promise was rejected, null otherwise

</td>
</tr>
<tr>
<td>

`loading`

</td>
<td>

`boolean`

</td>
<td>

True when the promise is pending, false once completed (either success or error)

</td>
</tr>
<tr>
<td>

`result`

</td>
<td>

`null | T`

</td>
<td>

Contains the resolved value if the promise was successful, null otherwise

</td>
</tr>
</tbody>
</table>
</div>

***

</div><div id="selection_usepromise">
## usePromise()

```ts
function usePromise<T>(promiseFn: () => Promise<T>): PromiseState<T>
```

A custom hook that executes a promise and manages its loading state.

This hook handles the common pattern of fetching data and tracking loading/error states,
executing the promise immediately during render and again if the promise function changes.

### Type Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T`

</td>
</tr>
</tbody>
</table>
</div>

### Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`promiseFn`

</td>
<td>

`() => Promise<T>`

</td>
<td>

The function that returns a promise to execute

</td>
</tr>
</tbody>
</table>
</div>

### Returns

`PromiseState<T>`

An object containing the loading state, error (if any), and result

### Example

```ts
// Usage example:
function UserProfile({ userId }) {
  const { loading, error, result: user } = usePromise(
    () => fetchUserData(userId)
  );

  if (loading) return <LoadingSpinner />;
  if (error) return <ErrorMessage error={error} />;

  return <UserDetails user={user} />;
}
```

### Note

This hook uses `useImmediatelyEffect` internally, which executes the promise
during render rather than after render completion.

</div>
</MdxPage>
