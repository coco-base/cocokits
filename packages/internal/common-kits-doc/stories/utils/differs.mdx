
[//]: # (Do not edit directly)
[//]: # (Generated by the Cocokits TypeDoc custom theme)

import { Meta } from '@storybook/addon-docs';
import { MdxPage } from '@cocokits/storybook-addon-theme';

export const tocItems = [{"id":"selection_arraylikedifft","name":"ArrayLikeDiff<T>"},{"id":"selection_arraylikediffchanget","name":"ArrayLikeDiffChange<T>"},{"id":"selection_arraylikediffoptionst","name":"ArrayLikeDiffOptions<T>"},{"id":"selection_getobjectdiff","name":"getObjectDiff()"}];

<Meta title='Utils/Differs'/>
<MdxPage breadcrumb='Utils' title='Differs' tocItems={tocItems} hideThemeSwitcher={true}>
<div>
</div><div id="selection_arraylikedifft">
## ArrayLikeDiff\<T\>

Represents a class for managing and comparing array-like data structures.

This class tracks the differences between the original and updated array-like structures
and provides detailed information about the changes, such as added, removed, changed,
and reordered items.

### Example

```
const originalArray = [1, 2, 3];
const updatedArray = [2, 3, 4];
const differ = new ArrayLikeDiff(originalArray);
const changes = differ.diff(updatedArray);
console.log(changes);
```

### Type Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Default type</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T`

</td>
<td>

`any`

</td>
<td>

The type of the items in the array-like structures being compared.

</td>
</tr>
</tbody>
</table>
</div>

### Constructors

#### new ArrayLikeDiff()

```ts
new ArrayLikeDiff<T>(original: ArrayLikeValue<T>, options: Partial<ArrayLikeDiffOptions<T>>): ArrayLikeDiff<T>
```

Creates a new instance of ArrayLikeDiff with the provided original data.

##### Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`original`

</td>
<td>

`ArrayLikeValue<T>`

</td>
<td>

The original array-like value to track.

</td>
</tr>
<tr>
<td>

`options`

</td>
<td>

`Partial<ArrayLikeDiffOptions<T>>`

</td>
<td>

An optional object to customize the diff options, like trackBy.

</td>
</tr>
</tbody>
</table>
</div>

##### Returns

`ArrayLikeDiff<T>`

##### Examples

Example with default options:
```
const diff = new ArrayLikeDiff([1, 2, 3]);
```

Example with custom trackBy function:
```
const diff = new ArrayLikeDiff([1, 2, 3], { trackBy: (item) => item.id });
```

### Methods

#### diff()

```ts
diff(updated: ArrayLikeValue<T>, updateOriginal: boolean): ArrayLikeDiffChange<T>
```

Computes the differences between the original and the updated array-like value.

This method compares the original and updated values and returns an object describing
the changes such as added, removed, changed, and reordered items.

##### Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default value</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`updated`

</td>
<td>

`ArrayLikeValue<T>`

</td>
<td>

`undefined`

</td>
<td>

The updated array-like value to compare against the original.

</td>
</tr>
<tr>
<td>

`updateOriginal`

</td>
<td>

`boolean`

</td>
<td>

`true`

</td>
<td>

Whether to update the original array-like value after computing the diff.

</td>
</tr>
</tbody>
</table>
</div>

##### Returns

`ArrayLikeDiffChange<T>`

An object detailing the changes between the original and updated values.

##### Examples

Basic usage:
```
const changes = diff.diff([2, 3, 4]);
console.log(changes);
```

Don't update the original value after diff, so we can compare a new list with the old original list:
```
const changes = diff.diff([2, 3, 4], false);
console.log(changes);
```

#### setOriginal()

```ts
setOriginal(original: ArrayLikeValue<T>): void
```

Sets the original array-like value for diff tracking.

This method allows you to update the original array-like value. After setting a new original
value, any further diff operations will compare against this new data.

##### Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`original`

</td>
<td>

`ArrayLikeValue<T>`

</td>
<td>

The new array-like value to be considered as the original.

</td>
</tr>
</tbody>
</table>
</div>

##### Returns

`void`

***

</div><div id="selection_arraylikediffchanget">
## ArrayLikeDiffChange\<T\>

Describes the changes between two array-like structures.

This interface represents the various types of changes that can occur when comparing
the original and updated array-like data, such as items being added, removed, changed,
or reordered.

### Type Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T`

</td>
<td>

The type of the items in the array-like structure.

</td>
</tr>
</tbody>
</table>
</div>

### Properties

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`added`

</td>
<td>

`{ index: number; item: T; newIndex: number; }[]`

</td>
<td>

List of items that were added to the updated array, with their new index.

</td>
</tr>
<tr>
<td>

`changed`

</td>
<td>

`{ item: T; newIndex: number; previousIndex: number; }[]`

</td>
<td>

List of items that were changed, along with their original and new indices.

</td>
</tr>
<tr>
<td>

`hasChanged`

</td>
<td>

`boolean`

</td>
<td>

Indicates whether any changes were detected between the original and updated arrays.

</td>
</tr>
<tr>
<td>

`removed`

</td>
<td>

`{ item: T; newIndex: number; previousIndex: number; }[]`

</td>
<td>

List of items that were removed from the original array, along with their previous index.

</td>
</tr>
<tr>
<td>

`reordered`

</td>
<td>

`{ item: T; newIndex: number; previousIndex: number; }[]`

</td>
<td>

List of items that were reordered, along with their original and new indices.

</td>
</tr>
</tbody>
</table>
</div>

***

</div><div id="selection_arraylikediffoptionst">
## ArrayLikeDiffOptions\<T\>

Options for customizing the behavior of the `ArrayLikeDiff` class.

This interface allows you to specify custom options for tracking changes between array-like structures.
You can provide a custom `trackBy` function to determine how items are compared, such as comparing by
object ID or other criteria.

### Type Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T`

</td>
<td>

The type of the items in the array-like structure.

</td>
</tr>
</tbody>
</table>
</div>

### Properties

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`trackBy`

</td>
<td>

`TrackByFunction<T>`

</td>
<td>

A function used to track and identify items within the array-like structure.

The `trackBy` function allows you to customize how items in the array-like structure are compared.
For example, you may want to compare objects by their unique ID rather than their entire content.

**Example**

```
const options: ArrayLikeDiffOptions<MyItem> = {
  trackBy: (item) => item.id
};
```

</td>
</tr>
</tbody>
</table>
</div>

***

</div><div id="selection_getobjectdiff">
## getObjectDiff()

```ts
function getObjectDiff<T>(obj1: T, obj2: T): Partial<T>
```

Computes the difference between two objects, returning a new object that represents the changes.

### Type Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T` *extends* `Record<string | number, any>`

</td>
<td>

The type of the objects being compared.

</td>
</tr>
</tbody>
</table>
</div>

### Parameters

<div class="arg-type-table-wrapper">
<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th class="description-column">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`obj1`

</td>
<td>

`T`

</td>
<td>

The first object to compare.

</td>
</tr>
<tr>
<td>

`obj2`

</td>
<td>

`T`

</td>
<td>

The second object to compare.

</td>
</tr>
</tbody>
</table>
</div>

### Returns

`Partial<T>`

A partial object containing the differences between `obj1` and `obj2`.

### Example

```ts
const obj1 = { a: 1, b: { c: 2 }, d: 4 };
const obj2 = { a: 1, b: { c: 3 }, e: 5 };
const diff = getObjectDiff(obj1, obj2);
console.log(diff); // Output: { b: { c: 3 }, d: null, e: 5 }
```

</div>
</MdxPage>
