
[//]: # (Do not edit directly)
[//]: # (Generated by the Cocokits TypeDoc custom theme on Wed Oct 23 2024 17:17:54 GMT+0200)

import { Meta } from '@storybook/addon-docs';
import { MdxDocPage } from '../../../../../packages/internal/storybook-theme-switcher/src';

export const tocItems = [{"id":"scrolllocker","name":"ScrollLocker"}];

<Meta title='Utils/Scroll'/>
<MdxDocPage groupTitle='Utils' toc={tocItems} utilsPage={true} hideCckThemeSwitcher={true}>
# Scroll

## ScrollLocker

A utility class that provides methods to lock and unlock scrolling on the page.
It also allows for the addition of callback functions to be notified whenever
the scroll lock state changes.

`ScrollLocker` is designed as a singleton, providing a global instance to manage
scroll locking behavior across different parts of the application.

### Use Cases:
- **Overlay modals or popups**: When an overlay (such as a modal or a popup) is opened,
  users should not be able to scroll the underlying content.
- **Side navigation menus**: Locking the scroll when a side navigation menu is opened can
  prevent users from scrolling the main content.
- **Loading or confirmation screens**: In scenarios where a confirmation or loading screen
  appears, locking the scroll ensures users remain focused on the task at hand and do not
  scroll unintentionally.

### Example

```typescript
const locker = ScrollLocker.globalInstance();
locker.lock(true);  // Locks the scroll and hides the scrollbar
locker.unlock();    // Unlocks the scroll
```

### Accessors

#### isLocked

```ts
get isLocked(): boolean
```

Determines whether scrolling is currently locked on the page.

##### Example

```typescript
const isLocked = ScrollLocker.globalInstance().isLocked;
console.log(isLocked);  // Outputs: true or false
```

##### Returns

`boolean`

`true` if scrolling is locked, otherwise `false`.

### Methods

#### addLockChangeListener()

```ts
addLockChangeListener(callback: (isLock: boolean) => void): void
```

Adds a callback function that is invoked whenever the scroll lock state changes.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`callback`

</td>
<td>

`(isLock: boolean) => void`

</td>
<td>

A function that receives the current lock state (`true` for locked, `false` for unlocked).

</td>
</tr>
</tbody>
</table>

##### Returns

`void`

##### Example

```typescript
const locker = ScrollLocker.globalInstance();
locker.addLockChangeListener((isLocked) => {
  console.log('Scroll locked:', isLocked);
});
```

#### lock()

```ts
lock(hideScrollbar: boolean): void
```

Locks the scroll on the page, optionally hiding the scrollbar.

**Note**: Hiding the scrollbar may cause a visible shift in content due to changes in
the body width, particularly when the content resizes.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`hideScrollbar`

</td>
<td>

`boolean`

</td>
<td>

`false`

</td>
<td>

Whether to hide the scrollbar when locking.

- If `hideScrollbar` is `false`, the scrollbar remains visible, but the user cannot scroll.
  This is useful when you want to avoid changing the width of the body element to ensure
  that all elements stay in their original position. This method is ideal for cases where
  the overlay has a backdrop (like a modal) with opacity or no backdrop.

- If `hideScrollbar` is `true`, the scrollbar is hidden, and the body width changes.
  This is beneficial for scenarios where a fullscreen overlay is in place, and the user
  cannot see the content behind the overlay. The size change in the body will be hidden behind
  the overlay, so the user will not notice any layout shift.

</td>
</tr>
</tbody>
</table>

##### Returns

`void`

##### Example

```typescript
const locker = ScrollLocker.globalInstance();
locker.lock();     // Locks scroll with visible scrollbar
locker.lock(true); // Locks scroll and hides the scrollbar
```

#### removeLockChangeListener()

```ts
removeLockChangeListener(callback: (isLock: boolean) => void): void
```

Removes a previously added scroll lock change listener.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`callback`

</td>
<td>

`(isLock: boolean) => void`

</td>
<td>

The listener function to be removed.

</td>
</tr>
</tbody>
</table>

##### Returns

`void`

##### Example

```typescript
const locker = ScrollLocker.globalInstance();
locker.removeLockChangeListener(myCallback);
```

#### unlock()

```ts
unlock(): void
```

Unlocks the scroll on the page, restoring the previous scroll position.
If the scroll is already unlocked, this function has no effect.

##### Returns

`void`

##### Example

```typescript
const locker = ScrollLocker.globalInstance();
locker.unlock();  // Unlocks scrolling and restores scroll position
```

#### globalInstance()

```ts
static globalInstance(): ScrollLocker
```

Returns the global instance of `ScrollLocker` ensuring a singleton pattern.

##### Returns

`ScrollLocker`

The global `ScrollLocker` instance.

##### Example

```typescript
const locker = ScrollLocker.globalInstance();
const locker2 = ScrollLocker.globalInstance();
locker.lock();      // Locks scrolling
locker2.isLocked(); // true
```

</MdxDocPage>
