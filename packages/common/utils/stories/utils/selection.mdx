
[//]: # (Do not edit directly)
[//]: # (Generated by the Cocokits TypeDoc custom theme on Fri Oct 25 2024 15:07:33 GMT+0200)

import { Meta } from '@storybook/addon-docs';
import { MdxDocPage } from '../../../../../packages/internal/storybook-theme-switcher/src';

export const tocItems = [{"id":"selectiont","name":"Selection<T>"},{"id":"selectionchanget","name":"SelectionChange<T>"},{"id":"selectionoptionst","name":"SelectionOptions<T>"},{"id":"selectionupdateconfig","name":"SelectionUpdateConfig"}];

<Meta title='Utils/Selection'/>
<MdxDocPage groupTitle='Utils' toc={tocItems} utilsPage={true} hideCckThemeSwitcher={true}>
# Selection

## Selection\<T\>

A class for managing a selection of values with support for multiple selections and event listeners for changes.
This is a utility for powering selection of one or more options from a list and can be used in components such as the selection list, table selections and chip lists.

The `Selection` class allows you to select, deselect, and manage a list of selected items. You can track changes,
restrict selection to a single item or multiple items, and emit events whenever the selection changes.

### Example

```typescript
// Creating a new selection instance with multiple values allowed
const selection = new Selection<string>([], { multiple: true });

// Selecting a single value
selection.select('apple');
console.log(selection.getSelected()); // ['apple']

// Selecting multiple values
selection.select(['banana', 'orange']);
console.log(selection.getSelected()); // ['apple', 'banana', 'orange']

// Deselecting a value
selection.deselect('banana');
console.log(selection.getSelected()); // ['apple', 'orange']
```

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Default type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T`

</td>
<td>

`any`

</td>
<td>

The type of the items being selected.

</td>
</tr>
</tbody>
</table>

### Constructors

#### new Selection()

```ts
new Selection<T>(selectedValues: T[], options: Partial<SelectionOptions<T>>): Selection<T>
```

Creates a new `Selection` instance.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`selectedValues`

</td>
<td>

`T[]`

</td>
<td>

`[]`

</td>
<td>

The initial values to be selected. Defaults to an empty array if no values are provided.

</td>
</tr>
<tr>
<td>

`options`

</td>
<td>

`Partial<SelectionOptions<T>>`

</td>
<td>

`{}`

</td>
<td>

An optional object to configure the selection behavior.

- `multiple`: If `true`, allows multiple items to be selected. If `false` or omitted, only one item can be selected.
- `trackBy`: A function to customize how items are compared. By default, items are compared by reference.

</td>
</tr>
</tbody>
</table>

##### Returns

`Selection<T>`

### Methods

#### addChangeEventListener()

```ts
addChangeEventListener(callback: ChangesCallback<T>): void
```

Adds an event listener that is triggered when the selection changes.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`callback`

</td>
<td>

`ChangesCallback<T>`

</td>
<td>

The callback function to be executed on selection change.

</td>
</tr>
</tbody>
</table>

##### Returns

`void`

##### Example

```typescript
const selection = new Selection<string>();
selection.addChangeEventListener(({ added, removed }) => {
  console.log('Added:', added);
  console.log('Removed:', removed);
});

selection.select('apple'); // Logs: Added: ['apple'], Removed: []
selection.deselect('apple'); // Logs: Added: [], Removed: ['apple']
```

#### clear()

```ts
clear(config?: SelectionUpdateConfig): void
```

Clears all selected values.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`config`?

</td>
<td>

`SelectionUpdateConfig`

</td>
<td>

Optional configuration for clearing the selection (e.g., skip emitting events).

</td>
</tr>
</tbody>
</table>

##### Returns

`void`

#### deselect()

```ts
deselect(values: T | T[], config?: SelectionUpdateConfig): void
```

Deselects a value or an array of values.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`values`

</td>
<td>

`T | T[]`

</td>
<td>

The values to deselect.

</td>
</tr>
<tr>
<td>

`config`?

</td>
<td>

`SelectionUpdateConfig`

</td>
<td>

Optional configuration for deselecting the values (e.g., skip emitting events).

</td>
</tr>
</tbody>
</table>

##### Returns

`void`

##### Example

```typescript
const selection = new Selection<number>([1, 2, 3]);
selection.deselect([2, 3]);
console.log(selection.getSelected()); // [1]
```

#### getSelected()

```ts
getSelected(): T[]
```

Get a list of selected items.

##### Returns

`T[]`

#### hasValue()

```ts
hasValue(): boolean
```

Determines whether the selection has a value.

##### Returns

`boolean`

#### isEmpty()

```ts
isEmpty(): boolean
```

Determines whether the selection does not have a value.

##### Returns

`boolean`

#### isMultipleSelection()

```ts
isMultipleSelection(): boolean
```

Gets whether multiple values can be selected.

##### Returns

`boolean`

#### isSelected()

```ts
isSelected(value: T): boolean
```

Determines whether a specific value is selected.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`value`

</td>
<td>

`T`

</td>
<td>

The value to check.

</td>
</tr>
</tbody>
</table>

##### Returns

`boolean`

`true` if the value is selected, otherwise `false`.

##### Example

```typescript
const selection = new Selection<number>([1, 2]);
console.log(selection.isSelected(1)); // true
console.log(selection.isSelected(3)); // false
```

#### removeAllChangeEventListener()

```ts
removeAllChangeEventListener(): void
```

Removes all event listeners for selection changes.

##### Returns

`void`

#### removeChangeEventListener()

```ts
removeChangeEventListener(callback: ChangesCallback<T>): void
```

Removes a previously added event listener for selection changes.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`callback`

</td>
<td>

`ChangesCallback<T>`

</td>
<td>

The listener to remove.

</td>
</tr>
</tbody>
</table>

##### Returns

`void`

#### select()

```ts
select(values: T | T[], config?: SelectionUpdateConfig): void
```

Selects a value or an array of values.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`values`

</td>
<td>

`T | T[]`

</td>
<td>

The values to select.

</td>
</tr>
<tr>
<td>

`config`?

</td>
<td>

`SelectionUpdateConfig`

</td>
<td>

Optional configuration for selecting the values (e.g., skip emitting events).

</td>
</tr>
</tbody>
</table>

##### Returns

`void`

##### Example

```typescript
const selection = new Selection<number>();
selection.select([1, 2, 3]);
console.log(selection.getSelected()); // [1, 2, 3]
```

#### setSelection()

```ts
setSelection(values: T | T[], config?: SelectionUpdateConfig): boolean | void
```

Sets the selected values, replacing any existing selection.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`values`

</td>
<td>

`T | T[]`

</td>
<td>

The new selected values.

</td>
</tr>
<tr>
<td>

`config`?

</td>
<td>

`SelectionUpdateConfig`

</td>
<td>

Optional configuration for setting the values (e.g., skip emitting events).

</td>
</tr>
</tbody>
</table>

##### Returns

`boolean | void`

##### Example

```typescript
const selection = new Selection<number>([1, 2, 3, 4]);
selection.setSelection([5, 6, 7]);
console.log(selection.getSelected()); // [5, 6, 7]
```

#### toggle()

```ts
toggle(value: T, config?: SelectionUpdateConfig): void
```

Toggles a value between selected and deselected.

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`value`

</td>
<td>

`T`

</td>
<td>

The value to toggle.

</td>
</tr>
<tr>
<td>

`config`?

</td>
<td>

`SelectionUpdateConfig`

</td>
<td>

Optional configuration for toggling the value (e.g., skip emitting events).

</td>
</tr>
</tbody>
</table>

##### Returns

`void`

##### Example

```typescript
const selection = new Selection<string>(['apple']);
selection.toggle('banana');
console.log(selection.getSelected()); // ['apple', 'banana']

selection.toggle('apple');
console.log(selection.getSelected()); // ['banana']
```

#### updateOptions()

```ts
updateOptions(options: Partial<SelectionOptions<T>>): void
```

Updates the selection options (such as enabling or disabling multiple selections).

##### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`options`

</td>
<td>

`Partial<SelectionOptions<T>>`

</td>
<td>

Partial selection options to update.

</td>
</tr>
</tbody>
</table>

##### Returns

`void`

##### Example

```typescript
const selection = new Selection<number>([1]);
selection.updateOptions({ multiple: true });
selection.select([2, 3, 4]);
console.log(selection.getSelected()); // [1, 2, 3, 4]
```

***

## SelectionChange\<T\>

Event emitted when the value of a Selection has changed.

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T`

</td>
</tr>
</tbody>
</table>

### Properties

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`added`

</td>
<td>

`T[]`

</td>
<td>

Options that were added to the selection.

</td>
</tr>
<tr>
<td>

`removed`

</td>
<td>

`T[]`

</td>
<td>

Options that were removed from the selection.

</td>
</tr>
<tr>
<td>

`triggerSource?`

</td>
<td>

`string`

</td>
<td>

Custom string to identify the source of changes, allowing for the addition of custom logic based on different sources.
For example: it can be 'fromFormController' or 'fromUserInteraction'.

</td>
</tr>
</tbody>
</table>

***

## SelectionOptions\<T\>

Configuration options for creating and updating a `Selection` instance.

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T`

</td>
<td>

The type of the items being selected.

</td>
</tr>
</tbody>
</table>

### Properties

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`multiple`

</td>
<td>

`boolean`

</td>
<td>

Whether multiple values can be selected at once.
If set to `true`, the selection can hold multiple items. If set to `false` or omitted, only one item can be selected at a time.

</td>
</tr>
<tr>
<td>

`trackBy`

</td>
<td>

`TrackByFunction<T>`

</td>
<td>

A custom function to track items by a specific property or value.
This function is used to compare items for equality when managing selections. Typically, this tracks by IDs or unique object properties.
If omitted, the default comparison is by reference equality.

</td>
</tr>
</tbody>
</table>

***

## SelectionUpdateConfig

Configuration options for updating the selection, such as skipping event emission.

### Properties

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`skipEmitEvent?`

</td>
<td>

`boolean`

</td>
<td>

Whether to skip emitting the changes event after updating the selection.

If set to `true`, no event will be emitted when the selection is updated. This is useful when you need to make multiple changes
in quick succession without notifying listeners for each change.

</td>
</tr>
<tr>
<td>

`triggerSource?`

</td>
<td>

`string`

</td>
<td>

A custom string used to identify the source of changes.
This can be useful for distinguishing between different sources of selection changes (e.g., user interaction, form control, etc.).

</td>
</tr>
</tbody>
</table>

</MdxDocPage>
