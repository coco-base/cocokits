
[//]: # (Do not edit directly)
[//]: # (Generated by the Cocokits TypeDoc custom theme on Wed Oct 23 2024 17:17:54 GMT+0200)

import { Meta } from '@storybook/addon-docs';
import { MdxDocPage } from '../../../../../packages/internal/storybook-theme-switcher/src';

export const tocItems = [{"id":"autoresizetextarea","name":"autoResizeTextarea()"},{"id":"deepclone","name":"deepClone()"},{"id":"deepmerge","name":"deepMerge()"},{"id":"deepmergedefaultcustomize","name":"deepMergeDefaultCustomize()"},{"id":"deepmergewithidcustomizer","name":"deepMergeWithIdCustomizer()"},{"id":"recordforeach","name":"recordForEach()"},{"id":"recordreducedeepmerge","name":"recordReduceDeepMerge()"},{"id":"recordreducedeepmergeuniqid","name":"recordReduceDeepMergeUniqId()"},{"id":"recordreducemerge","name":"recordReduceMerge()"},{"id":"reducedeepmerge","name":"reduceDeepMerge()"},{"id":"reducemerge","name":"reduceMerge()"},{"id":"sanitizevalue","name":"sanitizeValue()"}];

<Meta title='Utils/Common'/>
<MdxDocPage groupTitle='Utils' toc={tocItems} utilsPage={true} hideCckThemeSwitcher={true}>
# Common

## autoResizeTextarea()

```ts
function autoResizeTextarea(
   textarea: HTMLTextAreaElement, 
   minRow: number, 
   maxRow: number): {
  destroy: () => void;
  recalculateValues: () => void;
  update: () => void;
 }
```

Automatically resizes a textarea element based on its content, adjusting its height between the minimum and maximum number of rows.

This function listens for user input and dynamically adjusts the height of the textarea as the content changes. It respects
the minimum and maximum row constraints, ensuring the textarea doesn't exceed these limits. It also provides methods to
recalculate sizes, manually update the height, and destroy the event listeners.

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`textarea`

</td>
<td>

`HTMLTextAreaElement`

</td>
<td>

`undefined`

</td>
<td>

The `HTMLTextAreaElement` that will be resized based on its content.

</td>
</tr>
<tr>
<td>

`minRow`

</td>
<td>

`number`

</td>
<td>

`1`

</td>
<td>

The minimum number of rows the textarea should display. Defaults to 1.

</td>
</tr>
<tr>
<td>

`maxRow`

</td>
<td>

`number`

</td>
<td>

`5`

</td>
<td>

The maximum number of rows the textarea should display. Defaults to 5.

</td>
</tr>
</tbody>
</table>

### Returns

```ts
{
  destroy: () => void;
  recalculateValues: () => void;
  update: () => void;
 }
```

An object with methods to `recalculateValues`, manually `update` the height, and `destroy` the event listeners.

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`destroy`

</td>
<td>

`() => void`

</td>
</tr>
<tr>
<td>

`recalculateValues`

</td>
<td>

`() => void`

</td>
</tr>
<tr>
<td>

`update`

</td>
<td>

`() => void`

</td>
</tr>
</tbody>
</table>

### Example

```typescript
const textarea = document.querySelector('textarea');
const resizer = autoResizeTextarea(textarea, 2, 8);

// Manually update the textarea size
resizer.update();

// Recalculate values after a layout change
resizer.recalculateValues();

// Destroy the auto-resize functionality
resizer.destroy();
```

***

## deepClone()

```ts
function deepClone<T>(target: T): T
```

Creates a deep clone of the target object or value.

Perform a deep copy of the input, ensuring that nested objects and arrays are fully cloned
without maintaining references to the original structures.

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T`

</td>
<td>

The type of the target object or value to be cloned.

</td>
</tr>
</tbody>
</table>

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`target`

</td>
<td>

`T`

</td>
<td>

The object or value to be deeply cloned.

</td>
</tr>
</tbody>
</table>

### Returns

`T`

A deep clone of the input object or value.

### Example

```typescript
const obj = { a: 1, b: { c: 2 } };
const clone = deepClone(obj);
console.log(clone); // Outputs: { a: 1, b: { c: 2 } }

// Modifying the clone does not affect the original object
clone.b.c = 42;
console.log(obj.b.c); // Outputs: 2
```

***

## deepMerge()

```ts
function deepMerge<T, U>(
   target: T, 
   source: U, 
   customizer: (obj: unknown, src: unknown) => undefined | any[]): T & U
```

Deeply merges two objects, `target` and `source`, with optional customization for merging arrays.
If no customizer function is provided, the `deepMergeDefaultCustomize` function is used, which combines arrays without duplication.

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`T`

</td>
<td>

The type of the target object.

</td>
</tr>
<tr>
<td>

`U`

</td>
<td>

The type of the source object.

</td>
</tr>
</tbody>
</table>

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`target`

</td>
<td>

`T`

</td>
<td>

`undefined`

</td>
<td>

The target object to merge into.

</td>
</tr>
<tr>
<td>

`source`

</td>
<td>

`U`

</td>
<td>

`undefined`

</td>
<td>

The source object to merge from.

</td>
</tr>
<tr>
<td>

`customizer`

</td>
<td>

`(obj: unknown, src: unknown) => undefined | any[]`

</td>
<td>

`deepMergeDefaultCustomize`

</td>
<td>

An optional function to customize the merging behavior (especially for arrays).

</td>
</tr>
</tbody>
</table>

### Returns

`T & U`

A new object that is the result of deeply merging the `target` and `source` objects.

### Example

```typescript
const target = { a: [1, 2], b: { name: 'John' } };
const source = { a: [2, 3], b: { age: 30 } };

const result = deepMerge(target, source);
console.log(result);
// Outputs: { a: [1, 2, 3], b: { name: 'John', age: 30 } }
```

***

## deepMergeDefaultCustomize()

```ts
function deepMergeDefaultCustomize(obj: unknown, src: unknown): undefined | any[]
```

Merges two arrays based on a custom condition using the lodash _.mergeWith() method.
The customizer function defines the condition for merging the elements of the arrays.
Without this customization, the array for a same property will be used.

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`obj`

</td>
<td>

`unknown`

</td>
</tr>
<tr>
<td>

`src`

</td>
<td>

`unknown`

</td>
</tr>
</tbody>
</table>

### Returns

`undefined | any[]`

***

## deepMergeWithIdCustomizer()

```ts
function deepMergeWithIdCustomizer(objValue: unknown, srcValue: unknown): undefined | any[]
```

Merges two objects with special handling for arrays of objects.

This function deeply merges two objects, `target` and `source`, using the lodash _.mergeWith() method.
It contains a customizer function that handles the merging of arrays containing objects. When merging
arrays, it checks for the presence of an `id` property in the objects within the arrays. If objects with
the same `id` are found in both arrays, their properties will be merged into a single object. If not, the
new object from the source array will be added to the target array as a separate item.

@example:
```
target: {
  list1: [{id: 1, name: 'milad1'}, {id: 2, name: 'milad2'}],
  mode: 'mode1'
}

source: {
  list1: [{id: 1, age: 31}, {id: 3, age: 33}],
  mode: 'mode2'
}

Result:
{
  list1: [
    {id: 1, name: 'milad1', age: 31},
    {id: 2, name: 'milad2'},
    {id: 3, age: 33}
  ],
  mode: 'mode2'
}
```

Explanation:
- The `list1` array in the target contains objects with `id` values 1 and 2.
- The `list1` array in the source contains objects with `id` values 1 and 3.
- The customizer function merges the object with `id: 1` from both arrays, combining their properties.
- The object with `id: 2` from the target array remains unchanged as there is no matching `id` in the source array.
- The object with `id: 3` from the source array is added as a new item to the merged array.
- The `mode` property is overwritten by the value from the source object, resulting in 'mode2'.

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`objValue`

</td>
<td>

`unknown`

</td>
</tr>
<tr>
<td>

`srcValue`

</td>
<td>

`unknown`

</td>
</tr>
</tbody>
</table>

### Returns

`undefined | any[]`

***

## recordForEach()

```ts
function recordForEach<TSource>(source: TSource, callback: (value: TSource[keyof TSource], key: string) => void): void
```

Iterates over each key-value pair in a record and applies a callback function to each pair.

This helper function simplifies the process of iterating over the keys and values of an object
or record, avoiding the need to manually loop over `Object.entries()` in multiple places.

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`TSource` *extends* `{}`

</td>
<td>

The type of the record being iterated over.

</td>
</tr>
</tbody>
</table>

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`source`

</td>
<td>

`TSource`

</td>
<td>

The source record to iterate over. Each key-value pair will be passed to the callback.

</td>
</tr>
<tr>
<td>

`callback`

</td>
<td>

`(value: TSource[keyof TSource], key: string) => void`

</td>
<td>

The function to call for each key-value pair. The callback receives the value and key as arguments.

</td>
</tr>
</tbody>
</table>

### Returns

`void`

### Example

```typescript
const record = { a: 1, b: 2, c: 3 };
recordForEach(record, (value, key) => {
  console.log(key, value);
});
// Outputs:
// a 1
// b 2
// c 3
```

***

## recordReduceDeepMerge()

```ts
function recordReduceDeepMerge<TSource, TResult>(
   source: TSource, 
   callback: (value: TSource[keyof TSource], key: string) => null | Partial<TResult>, 
   initValue: Partial<TResult>): TResult
```

Reduces an object by deeply merging the results of a callback function into a single object.
This function allows deep merging while processing the object.

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`TSource` *extends* `{}`

</td>
<td>

The type of the source object.

</td>
</tr>
<tr>
<td>

`TResult`

</td>
<td>

The type of the result object.

</td>
</tr>
</tbody>
</table>

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`source`

</td>
<td>

`TSource`

</td>
<td>

The source object to reduce.

</td>
</tr>
<tr>
<td>

`callback`

</td>
<td>

`(value: TSource[keyof TSource], key: string) => null | Partial<TResult>`

</td>
<td>

The callback function that processes each key-value pair and returns a partial result to be deeply merged.

</td>
</tr>
<tr>
<td>

`initValue`

</td>
<td>

`Partial<TResult>`

</td>
<td>

The initial value for the reduction. Defaults to an empty object `{}`.

</td>
</tr>
</tbody>
</table>

### Returns

`TResult`

The result of deeply merging all callback results.

### Example

```typescript
const source = { a: { x: 1 }, b: { y: 2 } };
const result = recordReduceDeepMerge(source, (value, key) => ({ [key]: value }));
console.log(result); // { a: { x: 1 }, b: { y: 2 } }
```

***

## recordReduceDeepMergeUniqId()

```ts
function recordReduceDeepMergeUniqId<TSource, TResult>(
   source: TSource, 
   callback: (value: TSource[keyof TSource], key: string) => null | Partial<TResult>, 
   initValue: Partial<TResult>): TResult
```

Reduces an object by deeply merging results with unique IDs into a single object.
This function handles arrays of objects by merging items with matching `id` values.

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`TSource` *extends* `{}`

</td>
<td>

The type of the source object.

</td>
</tr>
<tr>
<td>

`TResult`

</td>
<td>

The type of the result object.

</td>
</tr>
</tbody>
</table>

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`source`

</td>
<td>

`TSource`

</td>
<td>

The source object to reduce.

</td>
</tr>
<tr>
<td>

`callback`

</td>
<td>

`(value: TSource[keyof TSource], key: string) => null | Partial<TResult>`

</td>
<td>

The callback function that processes each key-value pair and returns a partial result to be deeply merged.

</td>
</tr>
<tr>
<td>

`initValue`

</td>
<td>

`Partial<TResult>`

</td>
<td>

The initial value for the reduction. Defaults to an empty object `{}`.

</td>
</tr>
</tbody>
</table>

### Returns

`TResult`

The result of deeply merging all callback results with unique `id` handling.

### Example

```typescript
const source = { list: [{ id: 1, name: 'John' }, { id: 2, name: 'Jane' }] };
const result = recordReduceDeepMergeUniqId(source, (value, key) => ({ [key]: value }));
console.log(result); // Merges arrays of objects by unique `id`
```

***

## recordReduceMerge()

```ts
function recordReduceMerge<TSource, TResult>(
   source: TSource, 
   callback: (value: TSource[keyof TSource], key: string) => null | Partial<TResult>, 
   initValue: Partial<TResult>): TResult
```

Reduces an object by merging the results of a callback function into a single object.
This helper function simplifies writing reduce operations on objects.

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`TSource` *extends* `{}`

</td>
<td>

The type of the source object.

</td>
</tr>
<tr>
<td>

`TResult`

</td>
<td>

The type of the result object.

</td>
</tr>
</tbody>
</table>

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`source`

</td>
<td>

`TSource`

</td>
<td>

The source object to reduce.

</td>
</tr>
<tr>
<td>

`callback`

</td>
<td>

`(value: TSource[keyof TSource], key: string) => null | Partial<TResult>`

</td>
<td>

The callback function that processes each key-value pair and returns a partial result to be merged.

</td>
</tr>
<tr>
<td>

`initValue`

</td>
<td>

`Partial<TResult>`

</td>
<td>

The initial value for the reduction. Defaults to an empty object `{}`.

</td>
</tr>
</tbody>
</table>

### Returns

`TResult`

The result of merging all callback results.

### Example

```typescript
const source = { a: 1, b: 2, c: 3 };
const result = recordReduceMerge(source, (value, key) => ({ [key]: value * 2 }));
console.log(result); // { a: 2, b: 4, c: 6 }
```

***

## reduceDeepMerge()

```ts
function reduceDeepMerge<TSource, TResult>(
   source: TSource[], 
   callback: (value: TSource) => null | Partial<TResult>, 
   initValue: Partial<TResult>): TResult
```

Reduces an array by deeply merging the results of a callback function into a single object.
This function allows deep merging while processing the array.

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`TSource`

</td>
<td>

The type of the source array.

</td>
</tr>
<tr>
<td>

`TResult`

</td>
<td>

The type of the result object.

</td>
</tr>
</tbody>
</table>

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`source`

</td>
<td>

`TSource[]`

</td>
<td>

The source array to reduce.

</td>
</tr>
<tr>
<td>

`callback`

</td>
<td>

`(value: TSource) => null | Partial<TResult>`

</td>
<td>

The callback function that processes each item and returns a partial result to be deeply merged.

</td>
</tr>
<tr>
<td>

`initValue`

</td>
<td>

`Partial<TResult>`

</td>
<td>

The initial value for the reduction. Defaults to an empty object `{}`.

</td>
</tr>
</tbody>
</table>

### Returns

`TResult`

The result of deeply merging all callback results.

### Example

```typescript
const source = [{ x: 1 }, { y: 2 }];
const result = reduceDeepMerge(source, (value) => value);
console.log(result); // { x: 1, y: 2 }
```

***

## reduceMerge()

```ts
function reduceMerge<TSource, TResult>(
   source: TSource[], 
   callback: (value: TSource) => null | Partial<TResult>, 
   initValue: Partial<TResult>): TResult
```

Reduces an array by merging the results of a callback function into a single object.
This function simplifies reduce operations on arrays.

### Type Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Type Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`TSource`

</td>
<td>

The type of the source array.

</td>
</tr>
<tr>
<td>

`TResult`

</td>
<td>

The type of the result object.

</td>
</tr>
</tbody>
</table>

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`source`

</td>
<td>

`TSource[]`

</td>
<td>

The source array to reduce.

</td>
</tr>
<tr>
<td>

`callback`

</td>
<td>

`(value: TSource) => null | Partial<TResult>`

</td>
<td>

The callback function that processes each item and returns a partial result to be merged.

</td>
</tr>
<tr>
<td>

`initValue`

</td>
<td>

`Partial<TResult>`

</td>
<td>

The initial value for the reduction. Defaults to an empty object `{}`.

</td>
</tr>
</tbody>
</table>

### Returns

`TResult`

The result of merging all callback results.

### Example

```typescript
const source = [1, 2, 3];
const result = reduceMerge(source, (value) => ({ [value]: value * 2 }));
console.log(result); // { 1: 2, 2: 4, 3: 6 }
```

***

## sanitizeValue()

```ts
function sanitizeValue(value: 
  | undefined
  | null
  | string
  | number
  | boolean): 
  | string
  | number
  | boolean
  | null
  | undefined
```

Sanitizes the input value by converting specific string representations to their corresponding types.

- If the input value is the string `'null'`, it returns `null`.
- If the input value is the string `'undefined'` or an empty string, it returns `undefined`.
- If the input value is `'true'`, it returns the boolean `true`.
- If the input value is `'false'`, it returns the boolean `false`.
- If the input value is a valid number string, it converts and returns the number.
- Otherwise, it returns the original input value.

### Parameters

<table class="arg-type-table arg-type-table--full-width">
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`value`

</td>
<td>

` | undefined | null | string | number | boolean`

</td>
<td>

The value to sanitize, which can be a string, number, boolean, `null`, or `undefined`.

</td>
</tr>
</tbody>
</table>

### Returns

`
  | string
  | number
  | boolean
  | null
  | undefined`

The sanitized value, which can be a string, number, boolean, `null`, or `undefined`.

### Example

```typescript
sanitizeValue('null');       // null
sanitizeValue('undefined');  // undefined
sanitizeValue('');           // undefined
sanitizeValue('hello');      // 'hello'
sanitizeValue(null);         // null
sanitizeValue(undefined);    // undefined
sanitizeValue('true');       // true
sanitizeValue('false');      // false
sanitizeValue('1.2');        // 1.2
sanitizeValue('1x');         // '1x'
```

</MdxDocPage>
